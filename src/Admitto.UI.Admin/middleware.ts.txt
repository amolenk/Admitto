// import {ACCESS_TOKEN_COOKIE, LOGIN_PAGE_URL, PUBLIC_ROUTES} from "@/lib/auth/config";
// import {cookies} from "next/headers";
// import {NextRequest, NextResponse} from "next/server";
//
// export async function middleware(req: NextRequest) {
//     const { pathname } = req.nextUrl;
//
//     // Don't protect public routes
//     if (PUBLIC_ROUTES.some((route) => pathname.startsWith(route))) {
//         return NextResponse.next();
//     }
//
//     // Redirect to sign-in page if we don't have an access token
//     const accessToken = (await cookies()).get(ACCESS_TOKEN_COOKIE);
//     if (!accessToken) {
//
//         console.log('Redirecting to login page, no access token found: ', pathname);
//
//         const returnUrl = `${req.nextUrl.origin}${req.nextUrl.pathname}${req.nextUrl.search}`;
//
//         // const returnUrl = req.nextUrl.pathname + req.nextUrl.search;
//
//         return NextResponse.redirect(
//             `${LOGIN_PAGE_URL}?returnUrl=${encodeURIComponent(returnUrl)}`
//             );
//     }
//
//     return NextResponse.next();
// }
//
// // Run middleware on all routes except _next/static, images, etc.
// export const config = {
//   matcher: [
//     "/((?!_next/static|_next/image|favicon.ico).*)",
//   ],
// };
